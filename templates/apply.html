<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>申请白名单</title>
    <link rel="stylesheet" href="/static/css/pico.min.css">
    <script src="/static/js/common.js"></script>
</head>
<body>
    <nav class="container-fluid">
        <ul>
            <li><strong>Gatekeeper</strong></li>
        </ul>
        <ul>
            <li><a href="/">仪表盘</a></li>
            <li><a href="/apply" class="secondary">申请白名单</a></li>
            {{if .IsApprover}}
            <li><a href="/admin/users">用户管理</a></li>
            {{end}}
            <li><a href="/change-password">修改密码</a></li>
            <li><a href="/logout">登出</a></li>
        </ul>
    </nav>
    <main class="container">
        <article>
            <hgroup>
                <h1>新的白名单申请</h1>
                <h2>提交IP和端口以供审批。</h2>
            </hgroup>
            <form method="post">
                <label for="ip_address">IP地址</label>
                <input type="text" id="ip_address" name="ip_address" required pattern="^([0-9]{1,3}\.){3}[0-9]{1,3}$" title="请输入有效的IPv4地址。">
                
                <label for="port">端口</label>
                <input type="number" id="port" name="port" value="{{.DefaultPort}}" required min="1" max="65535">
                
                <label for="reason">原因</label>
                <textarea id="reason" name="reason" required></textarea>
                
                <label for="expires_at">有效期至 (可选)</label>
                <input type="datetime-local" id="expires_at" name="expires_at" title="留空表示永久有效">
                <small>留空表示永久有效。建议设置合理的有效期以提高安全性。</small>
                
                <button type="submit">提交申请</button>
            </form>
        </article>
    </main>
</body>
</html>
